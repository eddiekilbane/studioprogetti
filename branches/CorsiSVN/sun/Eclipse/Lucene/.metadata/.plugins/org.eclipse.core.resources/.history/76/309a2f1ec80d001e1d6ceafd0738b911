/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package demo.indexing.corso.lucene;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.analysis.StopAnalyzer;
import org.apache.lucene.analysis.Token;
import org.apache.lucene.analysis.TokenStream;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;

/**
 *
 * @author stefano
 */
public class DemoAnalyzers {


     public static void main(String[] args) {

        try{

            File velocityText = new File("./Velocity.txt");
            FileReader reader;

            Analyzer[] analyzers = new Analyzer[] {
                    new WhitespaceAnalyzer(),
                    new SimpleAnalyzer(),
                    new StopAnalyzer(),
                    new StandardAnalyzer()
            };

           for (int i=0; i<analyzers.length;i++){
                reader =new FileReader(velocityText);
                stampaAnalyzer(analyzers[i],reader);
           }

        }catch (Exception e){
            e.printStackTrace();
        }
    }

     public static void stampaAnalyzer(Analyzer analyzer, Reader toAnalyze) throws FileNotFoundException, IOException{
            System.out.println("\n\n\nAnalisi indice con "+ analyzer.getClass().getName());

            TokenStream tokens = analyzer.tokenStream(null, toAnalyze);
            Token reusableToken = new Token();
            int cont =0;
            while(reusableToken!=null){
                reusableToken = tokens.next(reusableToken);
                if (reusableToken==null) break;
                cont++;
                System.out.print(" ["+reusableToken.term()+"]");
            }
        System.out.println("Termini totali "+cont);
        toAnalyze.close();
    }





}
